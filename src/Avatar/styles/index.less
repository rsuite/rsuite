@import '../../styles/common';

.rs-avatar {
  --rs-avatar-size-xs: 1.25rem; // 20px
  --rs-avatar-size-sm: 1.875rem; // 30px
  --rs-avatar-size-md: 2.5rem; // 40px
  --rs-avatar-size-lg: 3.75rem; // 60px
  --rs-avatar-size-xl: 5.625rem; // 90px
  --rs-avatar-size-2xl: 7.5rem; // 120px

  --rs-avatar-font-size-xs: var(--rs-font-size-xs);
  --rs-avatar-font-size-sm: var(--rs-font-size-sm);
  --rs-avatar-font-size-md: var(--rs-font-size-md);
  --rs-avatar-font-size-lg: var(--rs-font-size-lg);
  --rs-avatar-font-size-xl: var(--rs-font-size-xl);
  --rs-avatar-font-size-2xl: var(--rs-font-size-2xl);

  background-color: var(--rs-avatar-bg);
  color: var(--rs-avatar-text);
  display: inline-flex;
  justify-content: center;
  align-items: center;
  border-radius: 4px;
  overflow: hidden;
  position: relative;

  & > .rs-icon {
    vertical-align: middle;
  }

  &-image {
    &::before {
      content: attr(alt);
      position: absolute;
      width: 100%;
      height: inherit;
      top: 0;
      left: 0;
      background: var(--rs-avatar-bg);
      text-align: center;
      padding: 0 2px;
    }
  }

  &-icon {
    position: absolute;
  }

  &-bordered {
    --rs-ring-offset-shadow: var(--rs-avatar-offset-color) 0 0 0 2px;
    --rs-ring-shadow: var(--rs-avatar-ring-color) 0 0 0 4px;
    box-shadow:
      var(--rs-ring-offset-shadow),
      var(--rs-ring-shadow),
      0 0 #0000;
  }

  &-circle {
    border-radius: 50%;
  }
}

// Colorful avatars
each(@spectrum, .(@color) {
  .rs-avatar-@{color} {
    --rs-avatar-bg: var(~'--rs-@{color}-500');
    --rs-avatar-ring-color: var(~'--rs-@{color}-500');
  }
});

// Size variants
@sizes: xs, sm, md, lg, xl, 2xl;

each(@sizes, .(@size) {
  .rs-avatar-@{size} {
    width: var(~'--rs-avatar-size-@{size}');
    height: var(~'--rs-avatar-size-@{size}');
    font-size: var(~'--rs-avatar-font-size-@{size}');

    & > .rs-icon {
      --rs-avatar-icon-size: calc((var(~'--rs-avatar-size-@{size}') - var(~'--rs-avatar-font-size-@{size}'))/2 + var(~'--rs-avatar-font-size-@{size}'));

      font-size: var(--rs-avatar-icon-size);
      height: var(--rs-avatar-icon-size);
    }
  
    & > .rs-avatar-image {
      width: var(~'--rs-avatar-size-@{size}');
      height: var(~'--rs-avatar-size-@{size}');
      line-height: var(~'--rs-avatar-size-@{size}');
    }
  }
});
